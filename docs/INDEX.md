# üìö √çndice de Documentaci√≥n - ACA 4.0

**√öltima actualizaci√≥n:** 2025-11-13

---

## üéØ INICIO R√ÅPIDO (LEE PRIMERO)

### **üìå Documento CORE (Ra√≠z del proyecto):**

**[../CONTEXTO_PROYECTO.md](../CONTEXTO_PROYECTO.md)** üéØ **PEGAR AL INICIO DE CADA SESI√ìN**
- Resumen ejecutivo del proyecto
- Puntos cr√≠ticos resumidos
- Estructura y flujos principales
- Estado actual y cambios recientes

**[../ESTRUCTURA_PROYECTO.md](../ESTRUCTURA_PROYECTO.md)** üìÅ
- √Årbol completo de directorios
- D√≥nde est√° cada cosa
- Patrones de c√≥digo comunes
- Navegaci√≥n r√°pida

### **Documentos esenciales (Carpeta docs/):**

1. **[NO_OLVIDAR.md](NO_OLVIDAR.md)** ‚ö†Ô∏è **LEER SIEMPRE PRIMERO**
   - Puntos cr√≠ticos del sistema
   - Errores comunes a evitar
   - Checklist antes de modificar c√≥digo

2. **[ESTADO_ACTUAL_SISTEMA.md](ESTADO_ACTUAL_SISTEMA.md)** üìä
   - Estado completo y actualizado del sistema
   - Estructura de BD
   - Flujos de subida/descarga
   - Configuraci√≥n cr√≠tica

3. **[REFERENCIA_RAPIDA.md](REFERENCIA_RAPIDA.md)** ‚ö°
   - Comandos frecuentes
   - Consultas √∫tiles
   - Troubleshooting r√°pido

4. **[INDEX.md](INDEX.md)** üìö
   - Este archivo - √çndice completo de documentaci√≥n

---

## üìù CAMBIOS Y ACTUALIZACIONES

4. **[CAMBIOS_2025-11-13.md](CAMBIOS_2025-11-13.md)** 
   - Log detallado de cambios de hoy
   - 14 problemas resueltos
   - Estad√≠sticas de la sesi√≥n

5. **[RESUMEN_CORRECCIONES_CODIGO.md](RESUMEN_CORRECCIONES_CODIGO.md)**
   - Correcciones aplicadas
   - C√≥digo antes/despu√©s
   - Verificaciones realizadas

6. **[CAMBIOS_RECIENTES.md](CAMBIOS_RECIENTES.md)**
   - Historial de cambios
   - Evoluci√≥n del sistema

---

## üîç AN√ÅLISIS Y COMPARACIONES

7. **[COMPARACION_MENU_INFORMACION.md](COMPARACION_MENU_INFORMACION.md)**
   - Comparaci√≥n documentaci√≥n vs c√≥digo implementado
   - Discrepancias encontradas
   - Correcciones necesarias

8. **[CORRECCION_MENU_INFORMACION.md](CORRECCION_MENU_INFORMACION.md)**
   - Problema: men√∫ atrapado
   - Soluci√≥n: enrutamiento de callbacks
   - Flujo corregido

9. **[ANALISIS_SQL_MIGRACION.md](ANALISIS_SQL_MIGRACION.md)**
   - An√°lisis de migraciones SQL
   - Campos agregados/renombrados
   - Validaci√≥n de estructura

---

## üóÑÔ∏è BASE DE DATOS

10. **[ESTRUCTURA_REAL_SUPABASE.md](ESTRUCTURA_REAL_SUPABASE.md)**
    - Verificaci√≥n de estructura actual
    - Tablas y campos existentes
    - Estado de migraciones

11. **[REPORTE_ALINEACION_BD.md](REPORTE_ALINEACION_BD.md)**
    - Alineaci√≥n c√≥digo-BD
    - Campos verificados
    - √çndices creados

---

## üìÇ GESTI√ìN DE ARCHIVOS

12. **[LOGICA_DESCARGA_EMPRESA.md](LOGICA_DESCARGA_EMPRESA.md)** ‚≠ê
    - Flujo completo de descarga
    - Diagrama: usuario con 1 vs m√∫ltiples empresas
    - Verificaci√≥n cu√°ndo preguntar empresa

13. **[PROCESO_GESTION_ARCHIVOS.md](PROCESO_GESTION_ARCHIVOS.md)**
    - Definici√≥n original de procesos
    - Estados del proceso
    - Datos que guarda la sesi√≥n

14. **[PLAN_IMPLEMENTACION_ARCHIVOS.md](PLAN_IMPLEMENTACION_ARCHIVOS.md)**
    - Plan original de implementaci√≥n
    - Cambios requeridos en BD
    - Componentes necesarios

15. **[RESUMEN_IMPLEMENTACION_ARCHIVOS.md](RESUMEN_IMPLEMENTACION_ARCHIVOS.md)**
    - Resumen de implementaci√≥n
    - Flujos implementados
    - Dependencias agregadas

---

## üîê ROLES Y SEGURIDAD

16. **[SISTEMA_ROLES_PERMISOS.md](SISTEMA_ROLES_PERMISOS.md)**
    - Definici√≥n de roles
    - Permisos por rol
    - Matriz de permisos

17. **[EXPLICACION_MULTIEMPRESA_SEGURIDAD.md](EXPLICACION_MULTIEMPRESA_SEGURIDAD.md)**
    - Concepto multiempresa
    - Validaciones de seguridad
    - Ejemplos de c√≥digo

18. **[EXPLICACION_ACTUALIZAR_HANDLERS.md](EXPLICACION_ACTUALIZAR_HANDLERS.md)**
    - C√≥mo actualizar handlers
    - Validaciones de permisos
    - Ejemplos antes/despu√©s

---

## üß† CONCEPTOS E INTEGRACI√ìN

19. **[CONCEPTO_HISTORIAL_OPENAI.md](CONCEPTO_HISTORIAL_OPENAI.md)**
    - Historial conversacional
    - Integraci√≥n con OpenAI
    - Extracci√≥n de intenci√≥n con IA

---

## üìã PLANIFICACI√ìN Y SEGUIMIENTO

20. **[PENDIENTES.md](PENDIENTES.md)**
    - Tareas pendientes
    - Prioridades
    - Mejoras futuras

21. **[PLAN_REVISADO_ARCHIVOS.md](PLAN_REVISADO_ARCHIVOS.md)**
    - Plan revisado de archivos
    - Campos esenciales
    - Estructura final

---

## üìñ RES√öMENES GENERALES

22. **[RESUMEN_SISTEMA_COMPLETO.md](RESUMEN_SISTEMA_COMPLETO.md)**
    - Resumen general del sistema
    - Arquitectura completa
    - Funcionalidades

23. **[RESUMEN_ACTUALIZACIONES_MULTIEMPRESA.md](RESUMEN_ACTUALIZACIONES_MULTIEMPRESA.md)**
    - Actualizaciones para multiempresa
    - Archivos a modificar
    - Validaciones necesarias

24. **[RESUMEN_CAMBIOS_ARCHIVOS.md](RESUMEN_CAMBIOS_ARCHIVOS.md)**
    - Cambios en sistema de archivos
    - Simplificaciones aplicadas
    - Mejoras implementadas

25. **[RESUMEN_SESION_CREACION.md](RESUMEN_SESION_CREACION.md)**
    - Sesi√≥n de creaci√≥n original
    - Decisiones tomadas
    - Contexto inicial

26. **[RESUMEN_REVISION_TESTING.md](RESUMEN_REVISION_TESTING.md)**
    - Revisi√≥n y testing
    - Usuarios de prueba
    - Verificaciones realizadas

27. **[RESUMEN_REVISION_MD.md](RESUMEN_REVISION_MD.md)** ‚≠ê **NUEVO**
    - Revisi√≥n completa de toda la documentaci√≥n .md
    - Archivos actualizados y desactualizados
    - Inconsistencias encontradas
    - Recomendaciones de actualizaci√≥n

28. **[PROXIMOS_PASOS_PERMISOS_SUBIDA.md](PROXIMOS_PASOS_PERMISOS_SUBIDA.md)** ‚≠ê **NUEVO**
    - An√°lisis del problema de permisos de subida
    - Alternativa 1: Bot separado para subida
    - Alternativa 2: Validaci√≥n en c√≥digo actual
    - Plan de implementaci√≥n detallado
    - An√°lisis de riesgos y casos de prueba

29. **[LIMITANTES_ESCALABILIDAD.md](LIMITANTES_ESCALABILIDAD.md)** ‚≠ê **NUEVO**
    - An√°lisis completo de limitantes de escalabilidad
    - L√≠mites de Telegram, Supabase, Render
    - Capacidad estimada por escenario
    - Recomendaciones por escala

30. **[SOLUCIONES_RIESGOS_OBSERVABILIDAD.md](SOLUCIONES_RIESGOS_OBSERVABILIDAD.md)** ‚≠ê **NUEVO**
    - Soluciones conceptuales a riesgos de arquitectura
    - M√©tricas y observabilidad sin cambiar c√≥digo
    - Herramientas de monitoreo disponibles
    - Sistema de alertas y reportes

31. **[ESTRATEGIAS_INTEGRACION_TEAMS.md](ESTRATEGIAS_INTEGRACION_TEAMS.md)** ‚≠ê **NUEVO**
    - Estrategias para integrar bot con Microsoft Teams
    - An√°lisis de impacto en c√≥digo existente
    - Componentes reutilizables vs espec√≠ficos de Telegram
    - Plan de implementaci√≥n detallado
    - Cambios necesarios en BD y seguridad

32. **[RESUMEN_INTEGRACION_TEAMS.md](RESUMEN_INTEGRACION_TEAMS.md)** ‚≠ê **NUEVO**
    - Resumen ejecutivo de integraci√≥n con Teams
    - Decisi√≥n estrat√©gica y plan de implementaci√≥n
    - Checklist de implementaci√≥n
    - Pr√≥ximos pasos inmediatos

---

## üîß ARCHIVOS T√âCNICOS

27. **[ARCHIVOS_ACTUALIZAR_MULTIEMPRESA.md](ARCHIVOS_ACTUALIZAR_MULTIEMPRESA.md)**
    - Lista de archivos a actualizar
    - Validaciones por archivo
    - Prioridades

---

## üìå C√ìMO USAR ESTA DOCUMENTACI√ìN

### **Para hacer cambios al sistema:**
1. Lee **NO_OLVIDAR.md** ‚Üê **OBLIGATORIO**
2. Lee **ESTADO_ACTUAL_SISTEMA.md** para entender estado actual
3. Consulta documento espec√≠fico seg√∫n lo que vayas a modificar
4. Actualiza documentaci√≥n despu√©s de hacer cambios

### **Para debugging:**
1. **REFERENCIA_RAPIDA.md** ‚Üí comandos √∫tiles
2. **CAMBIOS_2025-11-13.md** ‚Üí problemas ya resueltos
3. Logs del sistema con grep de emojis

### **Para nuevos desarrolladores:**
1. **ESTADO_ACTUAL_SISTEMA.md** ‚Üí Vista general
2. **RESUMEN_SISTEMA_COMPLETO.md** ‚Üí Arquitectura
3. **REFERENCIA_RAPIDA.md** ‚Üí Gu√≠a pr√°ctica

---

## ‚ö†Ô∏è DOCUMENTOS DEPRECADOS

**NO usar estos documentos (pueden contener informaci√≥n desactualizada):**
- Cualquier documento sin fecha de actualizaci√≥n reciente
- Documentos con estado "‚ö†Ô∏è DISCREPANCIAS ENCONTRADAS"
- Planes que ya fueron implementados

**Siempre verificar fecha de "√öltima actualizaci√≥n" en cada documento.**

---

## üîÑ MANTENIMIENTO DE DOCUMENTACI√ìN

### **Cu√°ndo actualizar:**
- ‚úÖ Despu√©s de resolver un problema cr√≠tico
- ‚úÖ Despu√©s de cambiar flujos principales
- ‚úÖ Despu√©s de modificar estructura de BD
- ‚úÖ Despu√©s de agregar/modificar comandos

### **Qu√© actualizar:**
1. Documento espec√≠fico del √°rea modificada
2. **../CONTEXTO_PROYECTO.md** si cambia el estado general
3. **NO_OLVIDAR.md** si es un punto cr√≠tico
4. **ESTADO_ACTUAL_SISTEMA.md** si cambia comportamiento general
5. Este **INDEX.md** si se agrega/elimina documentaci√≥n

---

## üß™ SCRIPTS DE TESTING

**Ubicaci√≥n:** `../scripts_testing/`  
**Documentaci√≥n:** [../scripts_testing/README.md](../scripts_testing/README.md)

### **Scripts de verificaci√≥n (solo lectura):**
- `verificar_sistema_completo.py` - Verificaci√≥n end-to-end
- `revisar_estructura_supabase.py` - Estructura de BD
- `verificar_archivos.py` - Archivos en Storage
- `verificar_sesiones.py` - Sesiones activas
- `verificar_bd.py` - Estado de BD

### **Scripts de administraci√≥n (modifican datos):**
- `asignar_roles_usuarios.py` - Asignar roles a usuarios
- `asociar_empresa_usuario.py` - Asociar usuario-empresa
- `crear_empresa_factorit.py` - Crear empresa Factor IT
- `ejecutar_migracion_roles.py` - Ejecutar migraciones

‚ö†Ô∏è **Scripts de administraci√≥n modifican la base de datos** - Revisar c√≥digo antes de ejecutar

---

## üìÅ ESTRUCTURA DE CARPETAS

```
aca_4/
‚îú‚îÄ‚îÄ CONTEXTO_PROYECTO.md          ‚Üê üéØ Documento CORE
‚îú‚îÄ‚îÄ ESTRUCTURA_PROYECTO.md         ‚Üê Mapa del proyecto
‚îú‚îÄ‚îÄ app/                           ‚Üê C√≥digo de la aplicaci√≥n
‚îú‚îÄ‚îÄ database/migrations/           ‚Üê Migraciones SQL
‚îú‚îÄ‚îÄ docs/                          ‚Üê Esta carpeta (documentaci√≥n)
‚îú‚îÄ‚îÄ scripts_testing/               ‚Üê Scripts de testing
‚îî‚îÄ‚îÄ venv/                          ‚Üê Entorno virtual
```

---

**√öltima actualizaci√≥n:** 2025-11-13 (agregado RESUMEN_REVISION_MD.md)

